
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://shevalier4444.github.io/doc_npc/page/infrastructure_reseau/reseau/">
      
      
        <link rel="prev" href="../infra_reseau/">
      
      
        <link rel="next" href="../systeme/">
      
      
      <link rel="icon" href="../../../docs/img/logo/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>Réseau - NPC Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pfsense" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="https://shevalier4444.github.io/doc_npc/" title="NPC Documentation" class="md-header__button md-logo" aria-label="NPC Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NPC Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Réseau
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://shevalier4444.github.io/doc_npc/" title="NPC Documentation" class="md-nav__button md-logo" aria-label="NPC Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    NPC Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../emulatorjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emulatorjs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Infrastructure Réseau
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure Réseau
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra_reseau/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Réseau
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Réseau
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pfsense" class="md-nav__link">
    <span class="md-ellipsis">
      Pfsense
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pfsense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-reseau-du-club" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration réseau du club
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pihole" class="md-nav__link">
    <span class="md-ellipsis">
      Pihole
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pihole">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation_1" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilisation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-pour-un-appareil" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration pour un appareil
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-pour-un-reseau" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration pour un réseau
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajout-de-listes-de-blocage" class="md-nav__link">
    <span class="md-ellipsis">
      Ajout de listes de blocage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switching" class="md-nav__link">
    <span class="md-ellipsis">
      Switching
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipam" class="md-nav__link">
    <span class="md-ellipsis">
      ipam
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tunnels-clouflare" class="md-nav__link">
    <span class="md-ellipsis">
      Tunnels (Clouflare)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunnels (Clouflare)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-un-compte-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      Créer un compte Cloudflare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-un-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter un Domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nameservers" class="md-nav__link">
    <span class="md-ellipsis">
      Nameservers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telecharger-le-client-cloudflared" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger le client Cloudflared
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-une-application-au-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter une application au tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-une-securisation-a-une-de-vos-applications-avec-access" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter une sécurisation à une de vos applications avec Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../systeme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Système
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cables_et_rangements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cable et rangements
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pfsense" class="md-nav__link">
    <span class="md-ellipsis">
      Pfsense
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pfsense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-reseau-du-club" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration réseau du club
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pihole" class="md-nav__link">
    <span class="md-ellipsis">
      Pihole
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pihole">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation_1" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilisation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-pour-un-appareil" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration pour un appareil
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-pour-un-reseau" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration pour un réseau
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajout-de-listes-de-blocage" class="md-nav__link">
    <span class="md-ellipsis">
      Ajout de listes de blocage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switching" class="md-nav__link">
    <span class="md-ellipsis">
      Switching
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipam" class="md-nav__link">
    <span class="md-ellipsis">
      ipam
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tunnels-clouflare" class="md-nav__link">
    <span class="md-ellipsis">
      Tunnels (Clouflare)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunnels (Clouflare)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-un-compte-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      Créer un compte Cloudflare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-un-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter un Domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nameservers" class="md-nav__link">
    <span class="md-ellipsis">
      Nameservers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telecharger-le-client-cloudflared" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger le client Cloudflared
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-une-application-au-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter une application au tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajouter-une-securisation-a-une-de-vos-applications-avec-access" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter une sécurisation à une de vos applications avec Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Réseau</h1>

<h2 id="pfsense">Pfsense</h2>
<blockquote>
<p>Pfsense est une basé sur freeBSD (distroLinux).
C’est un OS à installer sur un ordinateur bidon ou à virtualiser (attention à bien avoir 2 ports Ethernet). </p>
</blockquote>
<p>La configuration est simple pour juste “que ça marche” mais plus on apprend à s'en servir plus on se rend compte à quel point c’est puissant. </p>
<p>La machine fera office de routeur et de firewall, il fait aussi :     </p>
<ul>
<li>DNS</li>
<li>DHCP </li>
<li>User Manager (RADIUS)</li>
<li>VPN </li>
<li>Captive Portal</li>
</ul>
<p>Et fondamentalement, c’est une distro linux donc tu peux y installer ce que tu veux. </p>
<h3 id="installation">Installation</h3>
<p>Tu télécharge l’iso pfsense la plus récente ici : <a href="https://pfsense.org/download/">pfsense.org</a>
tu l’installe directement sur un pc ou tu crée une VM  (cf doc proxmox)</p>
<p>Tu importe le fichier de configuration qui se trouve dans le même dossier que ce doc </p>
<p>Et ça roule ! </p>
<p>C’est ça l'intérêt de la pfsense, c’est simple, ça marche bien et c’est polyvalent. </p>
<h3 id="configuration-reseau-du-club">Configuration réseau du club</h3>
<p>A l’heure ou j’écris cette doc, la pfsense est virtualisée sur un serveur entreposé sous l’escalier de la mezzanine du club </p>
<p>On a (bientôt) 2 gateway (accès internet):<br />
WAN ESIEE : permet un accès fibré et rapide (pour avoir un bon débit et pas de latence) mais filtré donc pas de porn ou de serveur host (ils nous trust pas)<br />
Y’a encore des firewall derrière, en vrai si tu conf mal le firewall c’est pas grave, y’a pas de trafic de toute façon.<br />
Aussi OPENGATE est censée se fibrer un jour, donc pas sur que cette co reste, mais pour l’instant c’est comme ca ^^</p>
<p>WAN OG : Pas filtrée , mais c’est de la VDSL, donc pas beaucoup de débit (8 mbs). <br />
Ducoup c’est cool pour host nos conneries mais pour jouer à 15 sur la co c’est moyen…</p>
<p>IP WAN ESIEE : 
...</p>
<h2 id="pihole">Pihole</h2>
<p><img align="right" alt="pihole_logo" src="https://hobosource.files.wordpress.com/2018/02/pi-hole-logo.png" width="150" /></p>
<p>Pi-hole est un bloqueur de publicité au niveau du réseau. Il agit comme un DNS menteur et éventuellement comme un serveur Dynamic Host Configuration Protocol (DHCP), destiné à être utilisé sur un réseau privé.</p>
<p>En termes simples, Pi-hole est un outil qui peut bloquer les publicités pour tous les appareils sur votre réseau. Il fonctionne en inspectant les requêtes DNS (Domain Name System) faites par vos appareils et en bloquant celles connues pour héberger des publicités ou même des fichiers malveillants.</p>
<p>Il est capable de bloquer non seulement les publicités traditionnelles sur les sites Web, mais aussi les publicités moins conventionnelles, telles que celles sur les téléviseurs intelligents et les publicités pour systèmes d’exploitation mobiles. - Copilote</p>
<h3 id="installation_1">Installation</h3>
<p>Pour ça, on va utiliser l'installeur de pihole, qui est un script bash. 
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sSL<span class="w"> </span>https://install.pi-hole.net<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div>
Il va vous demander de choisir votre interface réseau, puis de choisir votre DNS (on va mettre celui de cloudflare). Ensuite, il va vous demander si vous voulez activer le DHCP. Enfin, il va vous donner un mot de passe pour accéder à l'interface web de pihole. Et une fois fini, il vous donnera le lien vers le dashboard de pihole.</p>
<h3 id="utilisation">Utilisation</h3>
<p>Une fois connecté, vous allez sur le dash bord de pihole, vous pouvez voir les requêtes DNS qui sont faites sur votre réseau, les bloquer, les autoriser, etc... Rien de bien méchant pour le moment.</p>
<h4 id="configuration-pour-un-appareil">Configuration pour un appareil</h4>
<p>Vous allez dans les réglages de votre appareil, puis dans les paramètres réseau. Vous allez changer le DNS pour mettre l'adresse IP de votre serveur pihole.</p>
<h4 id="configuration-pour-un-reseau">Configuration pour un réseau</h4>
<p>Vous allez dans les paramètres de votre routeur, ensuite dans les paramètres DNS. Vous allez changer le DNS pour mettre l'adresse IP de votre serveur pihole.</p>
<h3 id="ajout-de-listes-de-blocage">Ajout de listes de blocage</h3>
<p>Aller dans la section <strong>Adlist</strong>, Dans <strong>Address</strong> mettez l'adresse de la liste de blocage que vous voulez ajouter. Vous pouvez en trouver sur Internet. Vous pouvez ajouter une description à cette liste dans <strong>Comment</strong>. Puis faite <strong>Add</strong>. Pour actualiser dans la note en dessous dans <strong>Hints</strong>, cliquer sur <strong>online</strong>, après <strong>update</strong>.</p>
<h2 id="switching">Switching</h2>
<p>...</p>
<h2 id="ipam">ipam</h2>
<p>...</p>
<h2 id="tunnels-clouflare">Tunnels (Clouflare)</h2>
<p><img align="right" alt="cloudflare_tunnel" src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/6yPC24VMmlijkEvr4iIqOl/7f4c0d8aca6f26631751e1a3e8c926a7/tunnel-hero-illustration.svg" width="300" /></p>
<p>La tunnelisation est une méthode utilisée dans le domaine des réseaux pour transporter des données en utilisant des protocoles qui ne sont pas pris en charge par ce réseau. Cela fonctionne en encapsulant les paquets, c’est-à-dire en enveloppant les paquets dans d’autres paquets. Cette technique est souvent utilisée dans les réseaux privés virtuels (VPN) et peut permettre l’utilisation de protocoles réseau non pris en charge, établir des connexions efficaces et sécurisées entre les réseaux, et dans certains cas, permettre aux utilisateurs de contourner les pare-feu. - Copilote</p>
<p>En ce qui concerne Cloudflare, ils utilisent la tunnelisation pour protéger les propriétés Internet des exploits de vulnérabilité. De plus, la tunnelisation Cloud est utilisée pour éviter le besoin de se déplacer sur les installations déjà déployées pour des tâches telles que des diagnostics, de la maintenance ou de la reconfiguration. Cette technologie permet un accès à distance aux dispositifs du réseau local comme les serveurs, PC, imprimantes, téléphones IP, enregistreurs, caméras, etc..., sans ouverture de ports et sans VPN complexes. - Copilote</p>
<ul>
<li>
<p>Protection contre les attaques </p>
<p><img alt="illustration1" src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5uLXEYIlWL2EyMuugX2H4U/44763f7d73ffa8cdfc206e200bcaa6d1/BDES-1971_Argo-Tunnel-Diagrams_fr-FR.svg" /></p>
</li>
<li>
<p>Sécurisation des applications internes</p>
<p><img alt="illustration2" src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/7L1lRILL53vxEoPzYfgZz8/ae0e13b872f1204aa3f0ec9a9c3322b1/BDES-1971_Cloudflare_Diagrams_Web_fr-FR.svg" /></p>
</li>
</ul>
<p><em><a href="https://www.cloudflare.com/fr-fr/products/tunnel/">Cloudflare - tunnel</a></em></p>
<h3 id="creer-un-compte-cloudflare">Créer un compte Cloudflare</h3>
<p>Rendez-vous sur le site de <a href="https://www.cloudflare.com">Cloudflare</a> et créez un compte. Une fois cette étape faite, vous pouvez vous connecter à votre compte et accéder à votre tableau de bord <em>(<a href="https://dash.cloudflare.com">dash</a>)</em>. </p>
<div class="admonition warning">
<p class="admonition-title">Attention</p>
<p>Quand vous créez votre compte, vous pouvez choisir une offre gratuite ou payante ; pour le moment, nous allons utiliser l'offre gratuite. Ils vont vous demander de rentrer un moyen de paiement, mais vous ne serez pas débité. <em>(Si vous ne le faites pas, le tunnel ne va marcher qu'en local et pas depuis Internet :) )</em></p>
</div>
<h3 id="ajouter-un-domaine">Ajouter un Domaine</h3>
<p>Pour ajouter un domaine, allez sur la zone <strong>Websites</strong>, puis cliquez sur <strong>Add a site</strong> suivez les indications demandées et vous pourrez ajouter votre domaine.</p>
<h3 id="nameservers">Nameservers</h3>
<p>Vous allez sûrement avoir une erreur qui vous dit que votre domaine n'est pas encore disponible et utilisable par Cloudflare. Pour cela, vous allez devoir aller dans la section <strong>DNS</strong> puis <strong>Records</strong>. Une fois dans cette section, vous aurez donc en bas de la page les <strong>Nameservers</strong> (2 normalement). Vous allez ensuite vous rendre dans votre gestionnaire de domaine (OVH, GoDaddy, etc...) et vous allez remplacer les <strong>Nameservers</strong> par ceux de Cloudflare dans la zone serveur DNS de votre domaine.</p>
<h3 id="telecharger-le-client-cloudflared">Télécharger le client Cloudflared</h3>
<p>Pour cela, on va donc suivre les indications de Cloudflare. Sur le tableau de bord de votre compte Cloudflare, allez sur la section <strong>Zero Trust</strong>, puis dans <strong>Networks</strong> et enfin <strong>Tunnels</strong>. Choisissez <strong>Cloudflared</strong>, ensuite donnez un nom à votre tunnel. Enfin, il vous proposera diverses installations selon votre OS pour l'installation du client Cloudflared. Une fois l'installation terminée et bien réalisée, le serveur que vous avez connecté devrait apparaître dans <strong>Connnector</strong>. Si tout est bon, alors votre tunnel est bien connecté.</p>
<h3 id="ajouter-une-application-au-tunnel">Ajouter une application au tunnel</h3>
<p>Dans <strong>Add Public hostname</strong>, choisissez votre <strong>Subdomain</strong> (nom de l'app par exemple) et dans <strong>Domain</strong> le domaine connecté et activé à votre compte. Dans <strong>Type</strong> mettez le style d'application que vous voulez connecter (HTTP, HTTPS, TCP, etc...). Enfin, dans <strong>URL</strong> mettez l'adresse IP de votre serveur local.</p>
<p>Si tout se passe bien, vous devriez avoir une application connectée à votre tunnel et votre tunnel qui vous indique <strong>Healthy</strong> en status. </p>
<h3 id="ajouter-une-securisation-a-une-de-vos-applications-avec-access">Ajouter une sécurisation à une de vos applications avec <strong>Access</strong></h3>
<p>Ici, on va ajouter une sécurité à une des applications qu'on a ajoutées au tunnel. Dans le cas ici, on a des applications <strong>Self-hosted</strong> c'est donc cette option qu'on va choisir. </p>
<p>Donnez-lui un nom et la durée de validation de la connexion. Remettez le <strong>Subdomain</strong> et <strong>Domain</strong> comme précédemment. </p>
<p><em>(personnellement, je désactive </em><em>Application Appearance</em><em>)</em>. </p>
<p>Faites <strong>next</strong>, donnez un nom à votre <strong>Policy</strong>. Ici, on va créer une authentification par mail, ainsi, on va choisir <strong>Email</strong> dans <strong>Configure rules</strong> et dans <strong>value</strong>, on va mettre tous les mails autorisés.</p>
<p>Faites <strong>next</strong>, et enfin <strong>add application</strong>. </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>